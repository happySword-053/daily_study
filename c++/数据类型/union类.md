union（联合体）和struct相似，也可以包含多个数据成员，但是不同的是同时只允许一个成员有效，因此经常作为作为节约空间的类使用。

 

C++11中union除了继承c语言的数据共享内存之外，行为上越来越像一个类，比如成员默认是public类型。

 

在C++11以后，很多基础语法都进行了修正。其中 union 的行为向类对象进行了发展，在兼容原有语法定义的基础上进行了扩充：

 

联合体可拥有成员函数（包含构造函数和析构函数），但不能有虚函数。

联合体不能有基类且不能用作基类。

联合体不能拥有引用类型的非静态数据成员。
联合体不能含有带非平凡特殊成员函数（复制构造函数、复制赋值运算符或析构函数）的非静态数据成员。(C++11 前)
若联合体含有带非平凡特殊成员函数（复制/移动构造函数，复制/移动赋值，或析构函数）的非静态数据成员，则联合体中的该函数默认被弃置，且需要程序员显式定义它。若联合体含有带非平凡默认构造函数的非静态数据成员，则该联合体的默认构造函数默认被弃置，除非联合体的变体成员拥有一个默认成员初始化器。至多一个变体成员可以拥有默认成员初始化器。(C++11 起）