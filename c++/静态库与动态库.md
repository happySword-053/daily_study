# 什么是库文件
库是一组预先编译好的方法的集合，是计算机上的一类文件，提供给使用者一些开箱即用的变量、函数或类。库文件分为静态库和动态库，静态库和动态库的区别体现在程序的链接阶段。
一般来说，Windows的静态库文件扩展名是 .lib，动态库文件扩展名是 .dll (Dynamic-Link Libraries)；Linux的静态库扩展名是 .a，动态库扩展名是 .so (Shared Object)。内容一样，都是将函数封装，编译后生成.o文件，将所有 .o 文件合并生成库文件，再将供自己或他人调用。**好处在于编译后的库文件的源代码被加密，使用者看不到，可保密。**
Linux系统存储的库的位置一般在：/lib 和 /usr/lib。 在 64 位的系统上有些库也可能被存储在/usr/lib64 下。库的头文件一般会被存储在 /usr/include 下或其子目录下。
Linux库有两种，一种是静态库，其命令规则为 libxxx.a；一种是共享库，其命令规则为 libxxx.so。
# 动态库与静态库的区别
- 静态库是一组编译后的目标文件的集合，通常以`.a`（在Unix/Linux系统上）或`.lib`（在Windows系统上）为扩展名。
- 在编译时，如果一个程序使用了静态库中的函数，那么这些函数的机器码会被复制并直接包含进最终生成的可执行文件中。
- 优点包括：
    - 程序运行时不需要额外的库文件支持。
    - 加载速度快，因为所有需要的代码都已内嵌在可执行文件里。
- 缺点包括：
    - 可执行文件体积较大，因为它包含了所有使用的库代码。
    - 如果多个程序使用相同的库，那么每个程序都会拥有该库的一份副本，浪费磁盘空间。
    - 更新库文件时，需要重新编译链接所有使用该库的应用程序。



- 动态库也是一组编译后的目标文件，但与静态库不同的是，它们不会被直接合并到可执行文件中。动态库通常以`.so`（在Unix/Linux系统上）或`.dll`（在Windows系统上）为扩展名。
- 在程序运行时，操作系统会根据需要将动态库加载到内存，并且多个进程可以共享同一份库的内存映像。
- 优点包括：
    - 多个程序可以共享同一个库的单个实例，节省内存。
    - 库的更新更加方便，只需替换旧版本的库文件，而不需要重新编译使用它的程序。
    - 减小了可执行文件的大小，因为实际的库代码没有包含在其中。
- 缺点包括：
    - 程序运行依赖于外部的库文件，如果缺少相应的库或者库版本不匹配，可能会导致程序无法运行。
    - 第一次加载时可能比静态链接慢，因为需要从磁盘读取库文件到内存中。