MySQL 的事务 **ACID 特性** （原子性、一致性、隔离性、持久性）依赖于 **Redo Log** 、**Undo Log** 和 **Binlog** 的协作。以下是具体依赖关系：

---

### **1. 原子性（Atomicity）**

**依赖日志** ：**Undo Log**  
**作用** ：

- 记录事务执行过程中的 **数据修改前的旧值** （前镜像）。
- 如果事务执行失败或回滚（`ROLLBACK`），通过 Undo Log 撤销已执行的修改，保证“要么全部完成，要么全部不完成”。

**示例** ：

```mysql
UPDATE user SET balance = 500 WHERE id = 1;
```



- 如果事务在修改过程中崩溃，Undo Log 会将 `balance` 恢复为原始值（如 1000）。

---

### **2. 持久性（Durability）**

**依赖日志** ：**Redo Log**  
**作用** ：

- 记录事务对 **数据页的物理修改** （如“某个页的某个偏移量处的值从A改为B”）。
- 即使数据库崩溃，重启时通过 Redo Log 重做（Replay）已提交的事务，确保数据不丢失。

**示例** ：


```mysql
COMMIT; -- 事务提交时，Redo Log 确保修改持久化到磁盘
```

---

### **3. 一致性（Consistency）**

**依赖日志** ：**Undo Log + Redo Log + Binlog**  
**作用** ：

- **Undo Log** ：回滚未提交的事务，避免脏数据。
- **Redo Log** ：确保已提交的事务持久化，防止数据丢失。
- **Binlog** ：在主从架构中，通过同步 Binlog 保证主库和从库的数据一致性。

**示例** ：

- 事务提交前，数据可能处于中间状态（如转账中扣款但未完成入账）。
- 通过 Undo Log 回滚或 Redo Log 恢复，最终数据会达到一致性状态。

---

### **4. 隔离性（Isolation）**

**依赖日志** ：**Undo Log**  
**作用** ：

- 通过 **MVCC（多版本并发控制）** ，利用 Undo Log 保存数据的历史版本。
- 不同事务根据隔离级别（如读已提交、可重复读）读取对应版本的数据，避免脏读、不可重复读等问题。

**示例** ：

- 事务 A 修改了某行数据但未提交，事务 B 通过 Undo Log 读取该行的旧版本数据，实现隔离。